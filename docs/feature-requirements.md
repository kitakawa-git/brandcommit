# brandcommit 実装済み機能要件まとめ

最終更新: 2026-02-28

---

## 1. ランディングページ（`/`）
- ヒーローセクション（「ブランドを、約束にする。」）
- 3つの機能紹介カード（スマート名刺・ブランド管理・チーム連携）
- サインアップ・ログインへのCTAボタン

---

## 2. 管理画面（`/admin/`）

### 2.1 認証・ログイン
- メール/パスワード認証
- 管理者 / スーパー管理者のルーティング切り分け

### 2.2 メンバー管理（`/admin/members`）
- メンバー一覧（名前・メール・登録日）
- 有効/無効のステータス切り替え
- 名刺の有効/無効トグル
- 招待リンクによるメンバー追加
- メンバープロフィール編集（名前・役職・部署・メール・電話・自己紹介・SNSリンク・プロフィール写真・カバー画像）

### 2.3 企業情報（`/admin/company`）
- ブランド名・ロゴ・WebサイトURLの編集

### 2.4 ブランド方針（`/admin/brand/guidelines`）
- スローガン、コンセプトビジュアル、ブランド動画（YouTube）
- ブランドステートメント、ミッション・ビジョン・バリュー
- ブランドストーリー、沿革タイムライン
- 事業内容（番号付きリスト）
- ブランド特性（レーダーチャート用スコア設定）
- 並び順のカスタマイズ
- ポータルサブタイトル編集（タイトル直下で編集可能）

### 2.5 ビジュアルアイデンティティ（`/admin/brand/visuals`）
- ロゴコンセプト・ロゴバリエーション管理（セクション＋画像ギャラリー）
- カラーパレット（プライマリ・セカンダリ・アクセント・ユーティリティ、HEX/RGB/HSL表示）
- フォント設定（欧文・和文それぞれプライマリ＋セカンダリ）
- ビジュアルガイドライン（テキスト＋画像ギャラリー、グリッド/メイソンリー切替）
- ポータルサブタイトル編集

### 2.6 バーバルアイデンティティ（`/admin/brand/verbal`）
- トーンオブボイス（自動リサイズテキストエリア）
- 用語ルール管理（推奨用語・非推奨用語・使い分け説明）
- 用語カテゴリ分類（datalistによる補完候補）
- ポータルサブタイトル編集

### 2.7 ブランド戦略（`/admin/brand/strategy`）
- ターゲットオーディエンス
- ペルソナ管理（名前・年齢・職業・説明・ニーズ・ペインポイント）
- ポジショニングマップ（SVGベース可視化）
- 行動指針（番号付きリスト）
- ポータルサブタイトル編集

### 2.8 提供価値（`/admin/brand/values`）
- 提供価値リスト（タイトル＋説明文、並べ替え可能）
- ポータルサブタイトル編集

### 2.9 QRコード出力（`/admin/card-template`）
- 全メンバーのQRコードプレビュー
- 個別ダウンロード（1000×1000px PNG）
- 一括ZIPダウンロード
- 印刷ガイドライン表示

### 2.10 アナリティクス（`/admin/analytics`）
- 総閲覧数・今月・今週のサマリー
- 30日間閲覧トレンド（棒グラフ）
- メンバー別アクセスランキング
- 直近10件のアクセス履歴（タイムスタンプ・位置情報）

---

## 3. ポータル（`/portal/`）

### 3.1 認証
- メール/パスワードログイン
- 招待リンクによるセルフ登録（トークン検証・自動ログイン）
- 未登録アカウントへのアクセス拒否画面

### 3.2 ダッシュボード（`/portal`）
- ウェルカムメッセージ（ユーザー名表示）
- 各ブランドセクションへのナビゲーションカード

### 3.3 ブランド方針閲覧（`/portal/guidelines`）
- スローガン、コンセプトビジュアル、YouTube動画
- ブランドステートメント、MVV、ストーリー、沿革
- 事業内容、ブランド特性レーダーチャート
- 動的サブタイトル表示（管理画面で設定した文言 or デフォルト）

### 3.4 ビジュアル閲覧（`/portal/visuals`）
- ロゴガイドライン・画像ギャラリー
- カラーパレット（HEX/RGB/HSL）
- フォントプレビュー
- ビジュアルガイドライン（グリッド/メイソンリー切替、画像ズーム）
- 動的サブタイトル表示

### 3.5 バーバル閲覧（`/portal/verbal`）
- トーンオブボイス
- 用語ルールテーブル（推奨=緑、非推奨=赤取り消し線）
- カテゴリフィルター・検索機能
- 動的サブタイトル表示

### 3.6 戦略閲覧（`/portal/strategy`）
- ターゲット、ペルソナ（ニーズ/ペインポイントのバッジ表示）
- ポジショニングマップ（SVG/画像）
- 行動指針
- 動的サブタイトル表示

### 3.7 提供価値閲覧（`/portal/values`）
- 番号付き提供価値リスト
- 動的サブタイトル表示

### 3.8 Good Jobタイムライン（`/portal/timeline`）
- 行動指針に基づく取り組みの投稿機能
  - テキスト投稿（必須、最大1000文字）
  - 画像添付（任意、最大3枚、JPG/PNG/WebP、5MB/枚）
  - 行動指針カテゴリ選択（必須、brand_personasの行動指針から自動生成）
  - 匿名投稿オプション（トグル切替、DB上はuser_id保持）
- タイムライン表示（降順）
  - 投稿者プロフィール写真・名前・役職（匿名時は「匿名メンバー」）
  - 相対時刻表示（「3時間前」「昨日」など）
  - カテゴリバッジ、テキスト本文、添付画像（クリック拡大）
- いいね機能（トグル式、1人1回、楽観的UI更新）
- コメント機能（アコーディオン展開、テキストのみ）
- 投稿の編集（本人のみ）・削除（本人＋管理者）
- コメントの削除（本人＋管理者）
- カテゴリフィルタリング
- ページネーション（20件ずつ「もっと見る」）
- 空状態表示

### 3.9 サイドバー
- ブランドロゴ＋ブランド名（太字）表示
- スローガン表示（未設定時はロゴ＋ブランド名を上下中央揃え）
- 3グループ構成: ブランド掲示 / 浸透 / マイページ
- ユーザーメニュー（プロフィール写真・名前・メール表示、ログアウト）

---

## 4. デジタル名刺（`/card/[slug]`）
- ブランドカラーによるダイナミックテーマ
- カバー画像＋プロフィール写真
- 名前・役職・部署・自己紹介
- メール・電話ボタン
- SNSリンク（X, LinkedIn, Facebook, Instagram）
- vCard（アドレス帳追加）ボタン
- 企業情報カード（ロゴ・スローガン・ミッション・Webサイト）
- 事業内容・ブランドストーリー表示
- QRコード表示＋高解像度ダウンロード
- 閲覧トラッキング（IP・地域・タイムスタンプ記録）

---

## 5. スーパー管理画面（`/superadmin/`）
- 企業一覧（ロゴ・名前・メンバー数・管理者数）
- 新規企業作成
- 企業詳細管理

---

## 6. 共通基盤
- マルチテナントSaaSアーキテクチャ（企業単位のデータ分離）
- ロールベースアクセス制御（スーパー管理者・管理者・メンバー）
- Supabase RLSによるデータ保護
- shadcn/ui コンポーネントライブラリ
- レスポンシブデザイン（モバイルファースト）
- トースト通知（sonner）
- 自動リサイズテキストエリア
- ポータルサブタイトルの一元管理（`companies.portal_subtitles` JSONB、各管理ページから個別編集）

---

## 技術スタック
- **フレームワーク:** Next.js 16 (Turbopack) + React 19 + TypeScript
- **UI:** shadcn/ui + TailwindCSS
- **バックエンド:** Supabase (PostgreSQL + Auth + Storage)
- **チャート:** Recharts（レーダーチャート・棒グラフ）
- **QRコード:** qrcode ライブラリ（サーバーサイド生成）
- **ホスティング:** Vercel
